{"ast":null,"code":"import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"callback\"];\nimport { call, put, takeLeading } from 'redux-saga/effects';\nimport { api } from '@frontegg/rest-api';\nimport { actions } from '../reducer';\nimport { ForgotPasswordStep } from './interfaces';\nfunction forgotPassword(_ref2) {\n  let {\n    payload\n  } = _ref2;\n  return function* () {\n    yield put(actions.setForgotPasswordState({\n      loading: true\n    }));\n    try {\n      yield call(api.auth.forgotPassword, payload);\n      yield put(actions.setForgotPasswordState({\n        loading: false,\n        error: undefined,\n        step: ForgotPasswordStep.success\n      }));\n    } catch (e) {\n      yield put(actions.setForgotPasswordState({\n        loading: false,\n        error: e.message || 'Unknown error occurred'\n      }));\n    }\n  }();\n}\nfunction* resetPassword(_ref) {\n  let {\n      payload: {\n        callback\n      }\n    } = _ref,\n    body = _objectWithoutPropertiesLoose(_ref.payload, _excluded);\n  yield put(actions.setForgotPasswordState({\n    loading: true\n  }));\n  try {\n    yield call(api.auth.resetPassword, body);\n    yield put(actions.setForgotPasswordState({\n      loading: false,\n      error: undefined,\n      step: ForgotPasswordStep.success\n    }));\n    callback == null ? void 0 : callback(true);\n  } catch (e) {\n    yield put(actions.setForgotPasswordState({\n      loading: false,\n      error: e.message\n    }));\n    callback == null ? void 0 : callback(false);\n  }\n}\nexport function loadPasswordConfig(_ref3) {\n  let {\n    payload\n  } = _ref3;\n  return function* () {\n    yield put(actions.setForgotPasswordState({\n      loading: true\n    }));\n    try {\n      const passwordConfig = yield call(api.auth.loadPasswordConfig, payload);\n      yield put(actions.setForgotPasswordState({\n        loading: false,\n        passwordConfig\n      }));\n    } catch (e) {\n      yield put(actions.setForgotPasswordState({\n        loading: false,\n        error: e.message\n      }));\n    }\n  }();\n}\nexport function* forgotPasswordSagas() {\n  yield takeLeading(actions.forgotPassword, forgotPassword);\n  yield takeLeading(actions.resetPassword, resetPassword);\n  yield takeLeading(actions.loadPasswordConfig, loadPasswordConfig);\n}","map":{"version":3,"names":["_objectWithoutPropertiesLoose","_excluded","call","put","takeLeading","api","actions","ForgotPasswordStep","forgotPassword","payload","setForgotPasswordState","loading","auth","error","undefined","step","success","e","message","resetPassword","_ref","callback","body","loadPasswordConfig","passwordConfig","forgotPasswordSagas"],"sources":["/Users/morank/Documents/react-hosted-login-assignment/my-app/node_modules/@frontegg/redux-store/auth/ForgotPasswordState/saga.js"],"sourcesContent":["import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"callback\"];\nimport { call, put, takeLeading } from 'redux-saga/effects';\nimport { api } from '@frontegg/rest-api';\nimport { actions } from '../reducer';\nimport { ForgotPasswordStep } from './interfaces';\n\nfunction* forgotPassword({\n  payload\n}) {\n  yield put(actions.setForgotPasswordState({\n    loading: true\n  }));\n\n  try {\n    yield call(api.auth.forgotPassword, payload);\n    yield put(actions.setForgotPasswordState({\n      loading: false,\n      error: undefined,\n      step: ForgotPasswordStep.success\n    }));\n  } catch (e) {\n    yield put(actions.setForgotPasswordState({\n      loading: false,\n      error: e.message || 'Unknown error occurred'\n    }));\n  }\n}\n\nfunction* resetPassword(_ref) {\n  let {\n    payload: {\n      callback\n    }\n  } = _ref,\n      body = _objectWithoutPropertiesLoose(_ref.payload, _excluded);\n\n  yield put(actions.setForgotPasswordState({\n    loading: true\n  }));\n\n  try {\n    yield call(api.auth.resetPassword, body);\n    yield put(actions.setForgotPasswordState({\n      loading: false,\n      error: undefined,\n      step: ForgotPasswordStep.success\n    }));\n    callback == null ? void 0 : callback(true);\n  } catch (e) {\n    yield put(actions.setForgotPasswordState({\n      loading: false,\n      error: e.message\n    }));\n    callback == null ? void 0 : callback(false);\n  }\n}\n\nexport function* loadPasswordConfig({\n  payload\n}) {\n  yield put(actions.setForgotPasswordState({\n    loading: true\n  }));\n\n  try {\n    const passwordConfig = yield call(api.auth.loadPasswordConfig, payload);\n    yield put(actions.setForgotPasswordState({\n      loading: false,\n      passwordConfig\n    }));\n  } catch (e) {\n    yield put(actions.setForgotPasswordState({\n      loading: false,\n      error: e.message\n    }));\n  }\n}\nexport function* forgotPasswordSagas() {\n  yield takeLeading(actions.forgotPassword, forgotPassword);\n  yield takeLeading(actions.resetPassword, resetPassword);\n  yield takeLeading(actions.loadPasswordConfig, loadPasswordConfig);\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}