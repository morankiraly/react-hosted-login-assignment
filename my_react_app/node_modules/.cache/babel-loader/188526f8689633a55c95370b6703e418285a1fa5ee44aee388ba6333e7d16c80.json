{"ast":null,"code":"export class ContextHolder {\n  constructor() {\n    this.context = null;\n    this.accessToken = null;\n    this.user = null;\n    this.onRedirectTo = path => window.location.href = path;\n    this.logout = () => window.location.href = '/account/logout';\n  }\n  static getInstance() {\n    if (!ContextHolder.instance) {\n      ContextHolder.instance = new ContextHolder();\n    }\n    return ContextHolder.instance;\n  }\n  static setContext(context) {\n    ContextHolder.getInstance().context = context;\n  }\n  static setAccessToken(accessToken) {\n    ContextHolder.getInstance().accessToken = accessToken;\n  }\n  static setUser(user) {\n    ContextHolder.getInstance().user = user;\n  }\n  static setOnRedirectTo(onRedirectTo) {\n    ContextHolder.getInstance().onRedirectTo = onRedirectTo;\n  }\n  static setLogout(logout, logoutUrl) {\n    ContextHolder.getInstance().logout = callback => {\n      if (!callback) {\n        ContextHolder.onRedirectTo(logoutUrl);\n      } else {\n        logout(callback);\n      }\n    };\n  }\n  static getContext() {\n    var _ContextHolder$getIns;\n    return (_ContextHolder$getIns = ContextHolder.getInstance().context) != null ? _ContextHolder$getIns : {\n      baseUrl: window.location.href,\n      tokenResolver: () => 'my-authentication-token',\n      logLevel: 'error'\n    };\n  }\n  static getAccessToken() {\n    return ContextHolder.getInstance().accessToken;\n  }\n  static getUser() {\n    return ContextHolder.getInstance().user;\n  }\n  static onRedirectTo(path, opts) {\n    return ContextHolder.getInstance().onRedirectTo(path, opts);\n  }\n  static logout(callback) {\n    return ContextHolder.getInstance().logout(callback);\n  }\n}\nContextHolder.instance = void 0;\nexport const FronteggContext = {\n  getContext: () => ContextHolder.getContext(),\n  getAccessToken: () => ContextHolder.getAccessToken(),\n  getUser: () => ContextHolder.getUser(),\n  onRedirectTo: (path, opts) => ContextHolder.onRedirectTo(path, opts),\n  logout: callback => ContextHolder.logout(callback)\n};","map":{"version":3,"names":["ContextHolder","constructor","context","accessToken","user","onRedirectTo","path","window","location","href","logout","getInstance","instance","setContext","setAccessToken","setUser","setOnRedirectTo","setLogout","logoutUrl","callback","getContext","_ContextHolder$getIns","baseUrl","tokenResolver","logLevel","getAccessToken","getUser","opts","FronteggContext"],"sources":["/Users/morank/Documents/my-app/node_modules/@frontegg/rest-api/ContextHolder/index.js"],"sourcesContent":["export class ContextHolder {\n  constructor() {\n    this.context = null;\n    this.accessToken = null;\n    this.user = null;\n\n    this.onRedirectTo = path => window.location.href = path;\n\n    this.logout = () => window.location.href = '/account/logout';\n  }\n\n  static getInstance() {\n    if (!ContextHolder.instance) {\n      ContextHolder.instance = new ContextHolder();\n    }\n\n    return ContextHolder.instance;\n  }\n\n  static setContext(context) {\n    ContextHolder.getInstance().context = context;\n  }\n\n  static setAccessToken(accessToken) {\n    ContextHolder.getInstance().accessToken = accessToken;\n  }\n\n  static setUser(user) {\n    ContextHolder.getInstance().user = user;\n  }\n\n  static setOnRedirectTo(onRedirectTo) {\n    ContextHolder.getInstance().onRedirectTo = onRedirectTo;\n  }\n\n  static setLogout(logout, logoutUrl) {\n    ContextHolder.getInstance().logout = callback => {\n      if (!callback) {\n        ContextHolder.onRedirectTo(logoutUrl);\n      } else {\n        logout(callback);\n      }\n    };\n  }\n\n  static getContext() {\n    var _ContextHolder$getIns;\n\n    return (_ContextHolder$getIns = ContextHolder.getInstance().context) != null ? _ContextHolder$getIns : {\n      baseUrl: window.location.href,\n      tokenResolver: () => 'my-authentication-token',\n      logLevel: 'error'\n    };\n  }\n\n  static getAccessToken() {\n    return ContextHolder.getInstance().accessToken;\n  }\n\n  static getUser() {\n    return ContextHolder.getInstance().user;\n  }\n\n  static onRedirectTo(path, opts) {\n    return ContextHolder.getInstance().onRedirectTo(path, opts);\n  }\n\n  static logout(callback) {\n    return ContextHolder.getInstance().logout(callback);\n  }\n\n}\nContextHolder.instance = void 0;\nexport const FronteggContext = {\n  getContext: () => ContextHolder.getContext(),\n  getAccessToken: () => ContextHolder.getAccessToken(),\n  getUser: () => ContextHolder.getUser(),\n  onRedirectTo: (path, opts) => ContextHolder.onRedirectTo(path, opts),\n  logout: callback => ContextHolder.logout(callback)\n};"],"mappings":"AAAA,OAAO,MAAMA,aAAa,CAAC;EACzBC,WAAW,GAAG;IACZ,IAAI,CAACC,OAAO,GAAG,IAAI;IACnB,IAAI,CAACC,WAAW,GAAG,IAAI;IACvB,IAAI,CAACC,IAAI,GAAG,IAAI;IAEhB,IAAI,CAACC,YAAY,GAAGC,IAAI,IAAIC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAGH,IAAI;IAEvD,IAAI,CAACI,MAAM,GAAG,MAAMH,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,iBAAiB;EAC9D;EAEA,OAAOE,WAAW,GAAG;IACnB,IAAI,CAACX,aAAa,CAACY,QAAQ,EAAE;MAC3BZ,aAAa,CAACY,QAAQ,GAAG,IAAIZ,aAAa,EAAE;IAC9C;IAEA,OAAOA,aAAa,CAACY,QAAQ;EAC/B;EAEA,OAAOC,UAAU,CAACX,OAAO,EAAE;IACzBF,aAAa,CAACW,WAAW,EAAE,CAACT,OAAO,GAAGA,OAAO;EAC/C;EAEA,OAAOY,cAAc,CAACX,WAAW,EAAE;IACjCH,aAAa,CAACW,WAAW,EAAE,CAACR,WAAW,GAAGA,WAAW;EACvD;EAEA,OAAOY,OAAO,CAACX,IAAI,EAAE;IACnBJ,aAAa,CAACW,WAAW,EAAE,CAACP,IAAI,GAAGA,IAAI;EACzC;EAEA,OAAOY,eAAe,CAACX,YAAY,EAAE;IACnCL,aAAa,CAACW,WAAW,EAAE,CAACN,YAAY,GAAGA,YAAY;EACzD;EAEA,OAAOY,SAAS,CAACP,MAAM,EAAEQ,SAAS,EAAE;IAClClB,aAAa,CAACW,WAAW,EAAE,CAACD,MAAM,GAAGS,QAAQ,IAAI;MAC/C,IAAI,CAACA,QAAQ,EAAE;QACbnB,aAAa,CAACK,YAAY,CAACa,SAAS,CAAC;MACvC,CAAC,MAAM;QACLR,MAAM,CAACS,QAAQ,CAAC;MAClB;IACF,CAAC;EACH;EAEA,OAAOC,UAAU,GAAG;IAClB,IAAIC,qBAAqB;IAEzB,OAAO,CAACA,qBAAqB,GAAGrB,aAAa,CAACW,WAAW,EAAE,CAACT,OAAO,KAAK,IAAI,GAAGmB,qBAAqB,GAAG;MACrGC,OAAO,EAAEf,MAAM,CAACC,QAAQ,CAACC,IAAI;MAC7Bc,aAAa,EAAE,MAAM,yBAAyB;MAC9CC,QAAQ,EAAE;IACZ,CAAC;EACH;EAEA,OAAOC,cAAc,GAAG;IACtB,OAAOzB,aAAa,CAACW,WAAW,EAAE,CAACR,WAAW;EAChD;EAEA,OAAOuB,OAAO,GAAG;IACf,OAAO1B,aAAa,CAACW,WAAW,EAAE,CAACP,IAAI;EACzC;EAEA,OAAOC,YAAY,CAACC,IAAI,EAAEqB,IAAI,EAAE;IAC9B,OAAO3B,aAAa,CAACW,WAAW,EAAE,CAACN,YAAY,CAACC,IAAI,EAAEqB,IAAI,CAAC;EAC7D;EAEA,OAAOjB,MAAM,CAACS,QAAQ,EAAE;IACtB,OAAOnB,aAAa,CAACW,WAAW,EAAE,CAACD,MAAM,CAACS,QAAQ,CAAC;EACrD;AAEF;AACAnB,aAAa,CAACY,QAAQ,GAAG,KAAK,CAAC;AAC/B,OAAO,MAAMgB,eAAe,GAAG;EAC7BR,UAAU,EAAE,MAAMpB,aAAa,CAACoB,UAAU,EAAE;EAC5CK,cAAc,EAAE,MAAMzB,aAAa,CAACyB,cAAc,EAAE;EACpDC,OAAO,EAAE,MAAM1B,aAAa,CAAC0B,OAAO,EAAE;EACtCrB,YAAY,EAAE,CAACC,IAAI,EAAEqB,IAAI,KAAK3B,aAAa,CAACK,YAAY,CAACC,IAAI,EAAEqB,IAAI,CAAC;EACpEjB,MAAM,EAAES,QAAQ,IAAInB,aAAa,CAACU,MAAM,CAACS,QAAQ;AACnD,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}