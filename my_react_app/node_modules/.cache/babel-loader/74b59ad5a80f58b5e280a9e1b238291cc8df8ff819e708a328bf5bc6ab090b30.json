{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { call, put, select, takeLeading } from 'redux-saga/effects';\nimport { actions } from '../reducer';\nimport { api } from '@frontegg/rest-api';\nimport { delay } from '../utils';\nfunction saveAccountSettings(_ref) {\n  let {\n    payload\n  } = _ref;\n  return function* () {\n    try {\n      var _payload$callback;\n      yield put(actions.setAccountSettingsState({\n        loading: true\n      }));\n      const {\n        accountSettingsState\n      } = yield select(state => state.auth);\n      const {\n        address,\n        timezone,\n        dateFormat,\n        timeFormat,\n        currency,\n        logo\n      } = accountSettingsState;\n      const body = yield call(api.accountSettings.updateSettings, _extends({\n        address,\n        timezone,\n        dateFormat,\n        timeFormat,\n        currency,\n        logo\n      }, payload));\n      yield put(actions.setAccountSettingsState(_extends({}, body, {\n        loading: false\n      })));\n      (_payload$callback = payload.callback) == null ? void 0 : _payload$callback.call(payload, body);\n    } catch (e) {\n      var _payload$callback2;\n      yield put(actions.setAccountSettingsState({\n        loading: false,\n        error: e.message\n      }));\n      (_payload$callback2 = payload.callback) == null ? void 0 : _payload$callback2.call(payload, null, e);\n    }\n  }();\n}\nfunction loadAccountSettings(_ref2) {\n  let {\n    payload\n  } = _ref2;\n  return function* () {\n    yield put(actions.setAccountSettingsState({\n      loading: !(payload != null && payload.silentLoading),\n      error: null\n    }));\n    try {\n      const body = yield call(api.accountSettings.getSettings);\n      yield put(actions.setAccountSettingsState(_extends({}, body, {\n        loading: false\n      })));\n    } catch (e) {\n      yield put(actions.setAccountSettingsState({\n        loading: false,\n        error: e.message\n      }));\n    }\n  }();\n}\nexport function* accountSettingsSaga() {\n  yield takeLeading(actions.saveAccountSettings, saveAccountSettings);\n  yield takeLeading(actions.loadAccountSettings, loadAccountSettings);\n}\n/*********************************\n *  Preview Sagas\n *********************************/\n\nfunction saveAccountSettingsMock(_ref3) {\n  let {\n    payload\n  } = _ref3;\n  return function* () {\n    var _payload$callback3;\n    yield put(actions.setAccountSettingsState({\n      loading: true\n    }));\n    yield delay();\n    const {\n      accountSettingsState\n    } = yield select(state => state.auth);\n    const {\n      address,\n      timezone,\n      dateFormat,\n      timeFormat,\n      currency,\n      logo\n    } = accountSettingsState;\n    const body = _extends({\n      address,\n      timezone,\n      dateFormat,\n      timeFormat,\n      currency,\n      logo\n    }, payload);\n    yield put(actions.setAccountSettingsState(_extends({}, body, {\n      loading: false\n    })));\n    (_payload$callback3 = payload.callback) == null ? void 0 : _payload$callback3.call(payload, body);\n  }();\n}\nfunction loadAccountSettingsMock(_ref4) {\n  let {\n    payload\n  } = _ref4;\n  return function* () {\n    yield put(actions.setAccountSettingsState({\n      loading: !(payload != null && payload.silentLoading),\n      error: null\n    }));\n    yield delay();\n    yield put(actions.setAccountSettingsState({\n      address: 'Tel-aviv',\n      timezone: 'Asia/Jerusalem',\n      dateFormat: 'DD/MM/YYYY',\n      timeFormat: 'HH:mm',\n      currency: 'USD',\n      loading: false\n    }));\n  }();\n}\nexport function* accountSettingsSagaMock() {\n  yield takeLeading(actions.saveAccountSettings, saveAccountSettingsMock);\n  yield takeLeading(actions.loadAccountSettings, loadAccountSettingsMock);\n}","map":{"version":3,"names":["_extends","call","put","select","takeLeading","actions","api","delay","saveAccountSettings","payload","_payload$callback","setAccountSettingsState","loading","accountSettingsState","state","auth","address","timezone","dateFormat","timeFormat","currency","logo","body","accountSettings","updateSettings","callback","e","_payload$callback2","error","message","loadAccountSettings","silentLoading","getSettings","accountSettingsSaga","saveAccountSettingsMock","_payload$callback3","loadAccountSettingsMock","accountSettingsSagaMock"],"sources":["/Users/morank/Documents/react-hosted-login-assignment/my-app/node_modules/@frontegg/redux-store/auth/AccountSettingsState/saga.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { call, put, select, takeLeading } from 'redux-saga/effects';\nimport { actions } from '../reducer';\nimport { api } from '@frontegg/rest-api';\nimport { delay } from '../utils';\n\nfunction* saveAccountSettings({\n  payload\n}) {\n  try {\n    var _payload$callback;\n\n    yield put(actions.setAccountSettingsState({\n      loading: true\n    }));\n    const {\n      accountSettingsState\n    } = yield select(state => state.auth);\n    const {\n      address,\n      timezone,\n      dateFormat,\n      timeFormat,\n      currency,\n      logo\n    } = accountSettingsState;\n    const body = yield call(api.accountSettings.updateSettings, _extends({\n      address,\n      timezone,\n      dateFormat,\n      timeFormat,\n      currency,\n      logo\n    }, payload));\n    yield put(actions.setAccountSettingsState(_extends({}, body, {\n      loading: false\n    })));\n    (_payload$callback = payload.callback) == null ? void 0 : _payload$callback.call(payload, body);\n  } catch (e) {\n    var _payload$callback2;\n\n    yield put(actions.setAccountSettingsState({\n      loading: false,\n      error: e.message\n    }));\n    (_payload$callback2 = payload.callback) == null ? void 0 : _payload$callback2.call(payload, null, e);\n  }\n}\n\nfunction* loadAccountSettings({\n  payload\n}) {\n  yield put(actions.setAccountSettingsState({\n    loading: !(payload != null && payload.silentLoading),\n    error: null\n  }));\n\n  try {\n    const body = yield call(api.accountSettings.getSettings);\n    yield put(actions.setAccountSettingsState(_extends({}, body, {\n      loading: false\n    })));\n  } catch (e) {\n    yield put(actions.setAccountSettingsState({\n      loading: false,\n      error: e.message\n    }));\n  }\n}\n\nexport function* accountSettingsSaga() {\n  yield takeLeading(actions.saveAccountSettings, saveAccountSettings);\n  yield takeLeading(actions.loadAccountSettings, loadAccountSettings);\n}\n/*********************************\n *  Preview Sagas\n *********************************/\n\nfunction* saveAccountSettingsMock({\n  payload\n}) {\n  var _payload$callback3;\n\n  yield put(actions.setAccountSettingsState({\n    loading: true\n  }));\n  yield delay();\n  const {\n    accountSettingsState\n  } = yield select(state => state.auth);\n  const {\n    address,\n    timezone,\n    dateFormat,\n    timeFormat,\n    currency,\n    logo\n  } = accountSettingsState;\n\n  const body = _extends({\n    address,\n    timezone,\n    dateFormat,\n    timeFormat,\n    currency,\n    logo\n  }, payload);\n\n  yield put(actions.setAccountSettingsState(_extends({}, body, {\n    loading: false\n  })));\n  (_payload$callback3 = payload.callback) == null ? void 0 : _payload$callback3.call(payload, body);\n}\n\nfunction* loadAccountSettingsMock({\n  payload\n}) {\n  yield put(actions.setAccountSettingsState({\n    loading: !(payload != null && payload.silentLoading),\n    error: null\n  }));\n  yield delay();\n  yield put(actions.setAccountSettingsState({\n    address: 'Tel-aviv',\n    timezone: 'Asia/Jerusalem',\n    dateFormat: 'DD/MM/YYYY',\n    timeFormat: 'HH:mm',\n    currency: 'USD',\n    loading: false\n  }));\n}\n\nexport function* accountSettingsSagaMock() {\n  yield takeLeading(actions.saveAccountSettings, saveAccountSettingsMock);\n  yield takeLeading(actions.loadAccountSettings, loadAccountSettingsMock);\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}