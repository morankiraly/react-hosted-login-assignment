{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { createFronteggStore } from '@frontegg/redux-store';\nimport { Metadata } from '@frontegg/types';\nimport { formatName, mockFlagsList } from '../utils';\nimport { AppHolder } from '../AppHolder';\nimport { fetch as FronteggFetch } from '@frontegg/rest-api';\nimport * as FronteggRestApi from '@frontegg/rest-api';\nimport * as FronteggTypes from '@frontegg/types';\nimport versions from '../version';\nexport var FronteggApp = /*#__PURE__*/function () {\n  function FronteggApp(_options, name) {\n    var _this = this,\n      _this$options$authOpt,\n      _this$options$store,\n      _this$options$authOpt2,\n      _this$options$auditsO;\n    var iframeRendering = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    _classCallCheck(this, FronteggApp);\n    this.name = void 0;\n    this.iframeRendering = void 0;\n    this.options = void 0;\n    this.loading = true;\n    this.cdnUrl = \"https://assets.frontegg.com/admin-box/\".concat(versions.cdnVersion);\n    this.customElementName = '';\n    this.adminPortalEl = void 0;\n    this.adminPortalRenderer = void 0;\n    this.loginBoxEl = void 0;\n    this.checkoutDialogEl = void 0;\n    this.checkoutDialogRenderer = void 0;\n    this.adminPortalContainer = void 0;\n    this.loginBoxContainer = void 0;\n    this.checkoutDialogContainer = void 0;\n    this.loginBoxRenderer = void 0;\n    this.store = void 0;\n    this.flags = {};\n    this.loadingListeners = [];\n    this.updateLocalizations = void 0;\n    this.loadAdminBoxMetadata = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var Get, _data$rows$0$configur, _data$rows, _data$rows$, data;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              Get = FronteggFetch.Get;\n              if (_this.options.metadata) {\n                _context.next = 12;\n                break;\n              }\n              _context.prev = 2;\n              _context.next = 5;\n              return Get(\"/metadata\", {\n                entityName: 'adminBox'\n              });\n            case 5:\n              data = _context.sent;\n              _this.options.metadata = (_data$rows$0$configur = data == null ? void 0 : (_data$rows = data.rows) == null ? void 0 : (_data$rows$ = _data$rows[0]) == null ? void 0 : _data$rows$.configuration) != null ? _data$rows$0$configur : {};\n              _context.next = 12;\n              break;\n            case 9:\n              _context.prev = 9;\n              _context.t0 = _context[\"catch\"](2);\n              console.error('failed to get admin portal metadata', _context.t0);\n            case 12:\n              Metadata.set(_this.options.metadata, _this.name);\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[2, 9]]);\n    }));\n    this.requestAuthorize = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              if (!_this.options.hostedLoginBox && !_this.options.builderMode && _this.options.framework !== 'nextjs') {\n                _this.store.dispatch({\n                  type: 'auth/requestAuthorize',\n                  payload: true\n                });\n              }\n            case 1:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n    this.loadFeatureFlags = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              if (!(_this.options.previewMode || _this.options.builderMode)) {\n                _context3.next = 4;\n                break;\n              }\n              _this.flags = mockFlagsList;\n              _context3.next = 13;\n              break;\n            case 4:\n              _context3.prev = 4;\n              _context3.next = 7;\n              return FronteggRestApi.loadFeatureFlags();\n            case 7:\n              _this.flags = _context3.sent;\n              _context3.next = 13;\n              break;\n            case 10:\n              _context3.prev = 10;\n              _context3.t0 = _context3[\"catch\"](4);\n              console.error('failed to get admin portal feature flags', _context3.t0);\n            case 13:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, null, [[4, 10]]);\n    }));\n    this.updateLocalizationsSetter = function (localizationUpdateFn) {\n      _this.updateLocalizations = localizationUpdateFn;\n    };\n    var appName = formatName(name);\n    var customElementName = \"frontegg-app-\".concat(appName);\n    this.iframeRendering = iframeRendering;\n    this.name = appName;\n    this.options = _extends({}, _options, {\n      contextOptions: _extends({\n        requestCredentials: 'include'\n      }, _options.contextOptions)\n    });\n    if (this.options.cdnUrl) {\n      this.cdnUrl = this.options.cdnUrl;\n    }\n    this.customElementName = customElementName;\n    var authOptions = this.options.authOptions ? _extends({}, this.options.authOptions, {\n      hostedLoginBox: this.options.hostedLoginBox\n    }) : {\n      hostedLoginBox: this.options.hostedLoginBox\n    };\n    authOptions.disableSilentRefresh = (_this$options$authOpt = this.options.authOptions) == null ? void 0 : _this$options$authOpt.disableSilentRefresh;\n    this.store = (_this$options$store = this.options.store) != null ? _this$options$store : createFronteggStore({\n      context: this.options.contextOptions\n    }, this, this.options.previewMode, authOptions, {\n      auth: (_this$options$authOpt2 = this.options.authOptions) != null ? _this$options$authOpt2 : {},\n      audits: (_this$options$auditsO = this.options.auditsOptions) != null ? _this$options$auditsO : {}\n    }, false, this.options.urlStrategy);\n    AppHolder.setInstance(appName, this);\n  }\n  _createClass(FronteggApp, [{\n    key: \"initContainers\",\n    value: function () {\n      var _initContainers = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(elements) {\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                this.adminPortalEl = elements.adminPortalEl;\n                this.loginBoxEl = elements.loginBoxEl;\n                this.checkoutDialogEl = elements.checkoutDialogEl;\n                this.adminPortalContainer = elements.adminPortalContainer;\n                this.loginBoxContainer = elements.loginBoxContainer;\n                this.checkoutDialogContainer = elements.checkoutDialogContainer;\n                try {\n                  if (this.options.framework !== 'nextjs') {\n                    document.body.classList.add('frontegg-loading');\n                  }\n                } catch (e) {}\n                _context4.next = 9;\n                return Promise.all([this.loadAdminBoxMetadata(), this.requestAuthorize(), this.loadFeatureFlags()]);\n              case 9:\n                if (!this.options.previewMode && !this.options.customLoginBox) {\n                  this.loadLoginBox();\n                }\n                this.loadScript('FronteggAdminPortal');\n              case 11:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n      function initContainers(_x) {\n        return _initContainers.apply(this, arguments);\n      }\n      return initContainers;\n    }()\n  }, {\n    key: \"updateMetadata\",\n    value: function updateMetadata(metadata) {\n      Metadata.set(metadata, this.name);\n      if (metadata != null && metadata.localizations) {\n        var _this$updateLocalizat;\n        (_this$updateLocalizat = this.updateLocalizations) == null ? void 0 : _this$updateLocalizat.call(this, metadata.localizations);\n      }\n    }\n  }, {\n    key: \"addOnLoadedListener\",\n    value: function addOnLoadedListener(listener) {\n      if (!this.loading) {\n        listener();\n        return;\n      }\n      this.loadingListeners.push(listener);\n    }\n  }, {\n    key: \"ready\",\n    value: function ready(listener) {\n      if (this.loading) {\n        listener();\n      } else {\n        this.addOnLoadedListener(listener);\n      }\n    }\n  }, {\n    key: \"loginWithRedirect\",\n    value: function loginWithRedirect() {\n      this.store.dispatch({\n        type: 'auth/setState',\n        payload: {\n          isLoading: true\n        }\n      });\n      this.store.dispatch({\n        type: 'auth/requestHostedLoginAuthorize'\n      });\n    }\n  }, {\n    key: \"logout\",\n    value: function logout() {\n      this.store.dispatch({\n        type: 'auth/setState',\n        payload: {\n          isLoading: true\n        }\n      });\n      this.store.dispatch({\n        type: 'auth/logout'\n      });\n    }\n  }, {\n    key: \"loadScript\",\n    value: function loadScript(component) {\n      var _this2 = this;\n      return new Promise(function (resolve, reject) {\n        // TODO: prevent this behavior if development\n        if (window[component]) {\n          resolve(window[component]);\n          return;\n        }\n        var entries = {\n          FronteggLoginBox: 'login-box/index.js',\n          FronteggAdminPortal: 'admin-portal/index.js'\n        };\n        var script = document.createElement('script');\n        script.src = \"\".concat(_this2.cdnUrl, \"/\").concat(entries[component]);\n        script.setAttribute('id', \"\".concat(component, \"Script\"));\n        script.setAttribute('cdn-url', _this2.cdnUrl);\n        script.onload = function () {\n          if (window[\"\".concat(component, \"Init\")]) {\n            resolve(window[\"\".concat(component, \"Init\")]({\n              FronteggRestApi: FronteggRestApi,\n              FronteggTypes: FronteggTypes\n            }));\n          } else {\n            resolve(window[component]);\n          }\n        };\n        script.onerror = function (e) {\n          console.log('Profile page error', e);\n          reject(e);\n        };\n        document.body.append(script);\n      });\n    }\n  }, {\n    key: \"loadLoginBox\",\n    value: function () {\n      var _loadLoginBox = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5() {\n        var FronteggLoginBox;\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.next = 2;\n                return this.loadScript('FronteggLoginBox');\n              case 2:\n                FronteggLoginBox = _context5.sent;\n                FronteggLoginBox.render(this.loginBoxEl, {\n                  injector: this,\n                  options: this.options\n                });\n                this.loading = false;\n                this.loadingListeners.forEach(function (listener) {\n                  try {\n                    listener();\n                  } catch (e) {}\n                });\n                this.loadingListeners = [];\n              case 7:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n      function loadLoginBox() {\n        return _loadLoginBox.apply(this, arguments);\n      }\n      return loadLoginBox;\n    }()\n  }, {\n    key: \"showAdminPortal\",\n    value: function () {\n      var _showAdminPortal = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6() {\n        var FronteggAdminPortal;\n        return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.next = 2;\n                return this.loadScript('FronteggAdminPortal');\n              case 2:\n                FronteggAdminPortal = _context6.sent;\n                this.adminPortalRenderer = FronteggAdminPortal.render(this.adminPortalEl, {\n                  injector: this,\n                  options: this.options\n                });\n              case 4:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n      function showAdminPortal() {\n        return _showAdminPortal.apply(this, arguments);\n      }\n      return showAdminPortal;\n    }()\n  }, {\n    key: \"hideAdminPortal\",\n    value: function hideAdminPortal() {\n      try {\n        var _this$adminPortalRend;\n        (_this$adminPortalRend = this.adminPortalRenderer) == null ? void 0 : _this$adminPortalRend.unmount();\n      } catch (e) {\n        console.error('Failed to unmount admin portal', e);\n      }\n    }\n  }, {\n    key: \"showCheckoutDialog\",\n    value: function () {\n      var _showCheckoutDialog = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7(opts) {\n        var FronteggAdminPortal;\n        return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                _context7.next = 2;\n                return this.loadScript('FronteggAdminPortal');\n              case 2:\n                FronteggAdminPortal = _context7.sent;\n                this.checkoutDialogRenderer = FronteggAdminPortal.renderCheckoutDialog(this.checkoutDialogEl, _extends({\n                  injector: this\n                }, opts, {\n                  options: this.options\n                }));\n              case 4:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this);\n      }));\n      function showCheckoutDialog(_x2) {\n        return _showCheckoutDialog.apply(this, arguments);\n      }\n      return showCheckoutDialog;\n    }()\n  }, {\n    key: \"hideCheckoutDialog\",\n    value: function hideCheckoutDialog() {\n      try {\n        var _this$checkoutDialogR;\n        (_this$checkoutDialogR = this.checkoutDialogRenderer) == null ? void 0 : _this$checkoutDialogR.unmount();\n      } catch (e) {\n        console.error('Failed to unmount checkout dialog', e);\n      }\n    }\n  }, {\n    key: \"close\",\n    value: function close() {\n      this.hideAdminPortal();\n      this.hideCheckoutDialog();\n    }\n  }]);\n  return FronteggApp;\n}();","map":{"version":3,"names":["_extends","_asyncToGenerator","_classCallCheck","_createClass","_regeneratorRuntime","createFronteggStore","Metadata","formatName","mockFlagsList","AppHolder","fetch","FronteggFetch","FronteggRestApi","FronteggTypes","versions","FronteggApp","_options","name","_this","_this$options$authOpt","_this$options$store","_this$options$authOpt2","_this$options$auditsO","iframeRendering","arguments","length","undefined","options","loading","cdnUrl","concat","cdnVersion","customElementName","adminPortalEl","adminPortalRenderer","loginBoxEl","checkoutDialogEl","checkoutDialogRenderer","adminPortalContainer","loginBoxContainer","checkoutDialogContainer","loginBoxRenderer","store","flags","loadingListeners","updateLocalizations","loadAdminBoxMetadata","mark","_callee","Get","_data$rows$0$configur","_data$rows","_data$rows$","data","wrap","_callee$","_context","prev","next","metadata","entityName","sent","rows","configuration","t0","console","error","set","stop","requestAuthorize","_callee2","_callee2$","_context2","hostedLoginBox","builderMode","framework","dispatch","type","payload","loadFeatureFlags","_callee3","_callee3$","_context3","previewMode","updateLocalizationsSetter","localizationUpdateFn","appName","contextOptions","requestCredentials","authOptions","disableSilentRefresh","context","auth","audits","auditsOptions","urlStrategy","setInstance","key","value","_initContainers","_callee4","elements","_callee4$","_context4","document","body","classList","add","e","Promise","all","customLoginBox","loadLoginBox","loadScript","initContainers","_x","apply","updateMetadata","localizations","_this$updateLocalizat","call","addOnLoadedListener","listener","push","ready","loginWithRedirect","isLoading","logout","component","_this2","resolve","reject","window","entries","FronteggLoginBox","FronteggAdminPortal","script","createElement","src","setAttribute","onload","onerror","log","append","_loadLoginBox","_callee5","_callee5$","_context5","render","injector","forEach","_showAdminPortal","_callee6","_callee6$","_context6","showAdminPortal","hideAdminPortal","_this$adminPortalRend","unmount","_showCheckoutDialog","_callee7","opts","_callee7$","_context7","renderCheckoutDialog","showCheckoutDialog","_x2","hideCheckoutDialog","_this$checkoutDialogR","close"],"sources":["/Users/morank/Documents/react-hosted-login-assignment/my-app/node_modules/@frontegg/js/FronteggApp/FronteggApp.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { createFronteggStore } from '@frontegg/redux-store';\nimport { Metadata } from '@frontegg/types';\nimport { formatName, mockFlagsList } from '../utils';\nimport { AppHolder } from '../AppHolder';\nimport { fetch as FronteggFetch } from '@frontegg/rest-api';\nimport * as FronteggRestApi from '@frontegg/rest-api';\nimport * as FronteggTypes from '@frontegg/types';\nimport versions from '../version';\nexport var FronteggApp = /*#__PURE__*/function () {\n  function FronteggApp(_options, name) {\n    var _this = this,\n        _this$options$authOpt,\n        _this$options$store,\n        _this$options$authOpt2,\n        _this$options$auditsO;\n\n    var iframeRendering = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n    _classCallCheck(this, FronteggApp);\n\n    this.name = void 0;\n    this.iframeRendering = void 0;\n    this.options = void 0;\n    this.loading = true;\n    this.cdnUrl = \"https://assets.frontegg.com/admin-box/\".concat(versions.cdnVersion);\n    this.customElementName = '';\n    this.adminPortalEl = void 0;\n    this.adminPortalRenderer = void 0;\n    this.loginBoxEl = void 0;\n    this.checkoutDialogEl = void 0;\n    this.checkoutDialogRenderer = void 0;\n    this.adminPortalContainer = void 0;\n    this.loginBoxContainer = void 0;\n    this.checkoutDialogContainer = void 0;\n    this.loginBoxRenderer = void 0;\n    this.store = void 0;\n    this.flags = {};\n    this.loadingListeners = [];\n    this.updateLocalizations = void 0;\n    this.loadAdminBoxMetadata = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var Get, _data$rows$0$configur, _data$rows, _data$rows$, data;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              Get = FronteggFetch.Get;\n\n              if (_this.options.metadata) {\n                _context.next = 12;\n                break;\n              }\n\n              _context.prev = 2;\n              _context.next = 5;\n              return Get(\"/metadata\", {\n                entityName: 'adminBox'\n              });\n\n            case 5:\n              data = _context.sent;\n              _this.options.metadata = (_data$rows$0$configur = data == null ? void 0 : (_data$rows = data.rows) == null ? void 0 : (_data$rows$ = _data$rows[0]) == null ? void 0 : _data$rows$.configuration) != null ? _data$rows$0$configur : {};\n              _context.next = 12;\n              break;\n\n            case 9:\n              _context.prev = 9;\n              _context.t0 = _context[\"catch\"](2);\n              console.error('failed to get admin portal metadata', _context.t0);\n\n            case 12:\n              Metadata.set(_this.options.metadata, _this.name);\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[2, 9]]);\n    }));\n    this.requestAuthorize = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              if (!_this.options.hostedLoginBox && !_this.options.builderMode && _this.options.framework !== 'nextjs') {\n                _this.store.dispatch({\n                  type: 'auth/requestAuthorize',\n                  payload: true\n                });\n              }\n\n            case 1:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n    this.loadFeatureFlags = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              if (!(_this.options.previewMode || _this.options.builderMode)) {\n                _context3.next = 4;\n                break;\n              }\n\n              _this.flags = mockFlagsList;\n              _context3.next = 13;\n              break;\n\n            case 4:\n              _context3.prev = 4;\n              _context3.next = 7;\n              return FronteggRestApi.loadFeatureFlags();\n\n            case 7:\n              _this.flags = _context3.sent;\n              _context3.next = 13;\n              break;\n\n            case 10:\n              _context3.prev = 10;\n              _context3.t0 = _context3[\"catch\"](4);\n              console.error('failed to get admin portal feature flags', _context3.t0);\n\n            case 13:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, null, [[4, 10]]);\n    }));\n\n    this.updateLocalizationsSetter = function (localizationUpdateFn) {\n      _this.updateLocalizations = localizationUpdateFn;\n    };\n\n    var appName = formatName(name);\n    var customElementName = \"frontegg-app-\".concat(appName);\n    this.iframeRendering = iframeRendering;\n    this.name = appName;\n    this.options = _extends({}, _options, {\n      contextOptions: _extends({\n        requestCredentials: 'include'\n      }, _options.contextOptions)\n    });\n\n    if (this.options.cdnUrl) {\n      this.cdnUrl = this.options.cdnUrl;\n    }\n\n    this.customElementName = customElementName;\n    var authOptions = this.options.authOptions ? _extends({}, this.options.authOptions, {\n      hostedLoginBox: this.options.hostedLoginBox\n    }) : {\n      hostedLoginBox: this.options.hostedLoginBox\n    };\n    authOptions.disableSilentRefresh = (_this$options$authOpt = this.options.authOptions) == null ? void 0 : _this$options$authOpt.disableSilentRefresh;\n    this.store = (_this$options$store = this.options.store) != null ? _this$options$store : createFronteggStore({\n      context: this.options.contextOptions\n    }, this, this.options.previewMode, authOptions, {\n      auth: (_this$options$authOpt2 = this.options.authOptions) != null ? _this$options$authOpt2 : {},\n      audits: (_this$options$auditsO = this.options.auditsOptions) != null ? _this$options$auditsO : {}\n    }, false, this.options.urlStrategy);\n    AppHolder.setInstance(appName, this);\n  }\n\n  _createClass(FronteggApp, [{\n    key: \"initContainers\",\n    value: function () {\n      var _initContainers = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(elements) {\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                this.adminPortalEl = elements.adminPortalEl;\n                this.loginBoxEl = elements.loginBoxEl;\n                this.checkoutDialogEl = elements.checkoutDialogEl;\n                this.adminPortalContainer = elements.adminPortalContainer;\n                this.loginBoxContainer = elements.loginBoxContainer;\n                this.checkoutDialogContainer = elements.checkoutDialogContainer;\n\n                try {\n                  if (this.options.framework !== 'nextjs') {\n                    document.body.classList.add('frontegg-loading');\n                  }\n                } catch (e) {}\n\n                _context4.next = 9;\n                return Promise.all([this.loadAdminBoxMetadata(), this.requestAuthorize(), this.loadFeatureFlags()]);\n\n              case 9:\n                if (!this.options.previewMode && !this.options.customLoginBox) {\n                  this.loadLoginBox();\n                }\n\n                this.loadScript('FronteggAdminPortal');\n\n              case 11:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function initContainers(_x) {\n        return _initContainers.apply(this, arguments);\n      }\n\n      return initContainers;\n    }()\n  }, {\n    key: \"updateMetadata\",\n    value: function updateMetadata(metadata) {\n      Metadata.set(metadata, this.name);\n\n      if (metadata != null && metadata.localizations) {\n        var _this$updateLocalizat;\n\n        (_this$updateLocalizat = this.updateLocalizations) == null ? void 0 : _this$updateLocalizat.call(this, metadata.localizations);\n      }\n    }\n  }, {\n    key: \"addOnLoadedListener\",\n    value: function addOnLoadedListener(listener) {\n      if (!this.loading) {\n        listener();\n        return;\n      }\n\n      this.loadingListeners.push(listener);\n    }\n  }, {\n    key: \"ready\",\n    value: function ready(listener) {\n      if (this.loading) {\n        listener();\n      } else {\n        this.addOnLoadedListener(listener);\n      }\n    }\n  }, {\n    key: \"loginWithRedirect\",\n    value: function loginWithRedirect() {\n      this.store.dispatch({\n        type: 'auth/setState',\n        payload: {\n          isLoading: true\n        }\n      });\n      this.store.dispatch({\n        type: 'auth/requestHostedLoginAuthorize'\n      });\n    }\n  }, {\n    key: \"logout\",\n    value: function logout() {\n      this.store.dispatch({\n        type: 'auth/setState',\n        payload: {\n          isLoading: true\n        }\n      });\n      this.store.dispatch({\n        type: 'auth/logout'\n      });\n    }\n  }, {\n    key: \"loadScript\",\n    value: function loadScript(component) {\n      var _this2 = this;\n\n      return new Promise(function (resolve, reject) {\n        // TODO: prevent this behavior if development\n        if (window[component]) {\n          resolve(window[component]);\n          return;\n        }\n        \n\n\n        var entries = {\n          FronteggLoginBox: 'login-box/index.js',\n          FronteggAdminPortal: 'admin-portal/index.js'\n        };\n        var script = document.createElement('script');\n        script.src = \"\".concat(_this2.cdnUrl, \"/\").concat(entries[component]);\n        script.setAttribute('id', \"\".concat(component, \"Script\"));\n        script.setAttribute('cdn-url', _this2.cdnUrl);\n\n        script.onload = function () {\n          if (window[\"\".concat(component, \"Init\")]) {\n            resolve(window[\"\".concat(component, \"Init\")]({\n              FronteggRestApi: FronteggRestApi,\n              FronteggTypes: FronteggTypes\n            }));\n          } else {\n            resolve(window[component]);\n          }\n        };\n\n        script.onerror = function (e) {\n          console.log('Profile page error', e);\n          reject(e);\n        };\n\n        document.body.append(script);\n      });\n    }\n  }, {\n    key: \"loadLoginBox\",\n    value: function () {\n      var _loadLoginBox = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5() {\n        var FronteggLoginBox;\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.next = 2;\n                return this.loadScript('FronteggLoginBox');\n\n              case 2:\n                FronteggLoginBox = _context5.sent;\n                FronteggLoginBox.render(this.loginBoxEl, {\n                  injector: this,\n                  options: this.options\n                });\n                this.loading = false;\n                this.loadingListeners.forEach(function (listener) {\n                  try {\n                    listener();\n                  } catch (e) {}\n                });\n                this.loadingListeners = [];\n\n              case 7:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function loadLoginBox() {\n        return _loadLoginBox.apply(this, arguments);\n      }\n\n      return loadLoginBox;\n    }()\n  }, {\n    key: \"showAdminPortal\",\n    value: function () {\n      var _showAdminPortal = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6() {\n        var FronteggAdminPortal;\n        return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.next = 2;\n                return this.loadScript('FronteggAdminPortal');\n\n              case 2:\n                FronteggAdminPortal = _context6.sent;\n                this.adminPortalRenderer = FronteggAdminPortal.render(this.adminPortalEl, {\n                  injector: this,\n                  options: this.options\n                });\n\n              case 4:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function showAdminPortal() {\n        return _showAdminPortal.apply(this, arguments);\n      }\n\n      return showAdminPortal;\n    }()\n  }, {\n    key: \"hideAdminPortal\",\n    value: function hideAdminPortal() {\n      try {\n        var _this$adminPortalRend;\n\n        (_this$adminPortalRend = this.adminPortalRenderer) == null ? void 0 : _this$adminPortalRend.unmount();\n      } catch (e) {\n        console.error('Failed to unmount admin portal', e);\n      }\n    }\n  }, {\n    key: \"showCheckoutDialog\",\n    value: function () {\n      var _showCheckoutDialog = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7(opts) {\n        var FronteggAdminPortal;\n        return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                _context7.next = 2;\n                return this.loadScript('FronteggAdminPortal');\n\n              case 2:\n                FronteggAdminPortal = _context7.sent;\n                this.checkoutDialogRenderer = FronteggAdminPortal.renderCheckoutDialog(this.checkoutDialogEl, _extends({\n                  injector: this\n                }, opts, {\n                  options: this.options\n                }));\n\n              case 4:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this);\n      }));\n\n      function showCheckoutDialog(_x2) {\n        return _showCheckoutDialog.apply(this, arguments);\n      }\n\n      return showCheckoutDialog;\n    }()\n  }, {\n    key: \"hideCheckoutDialog\",\n    value: function hideCheckoutDialog() {\n      try {\n        var _this$checkoutDialogR;\n\n        (_this$checkoutDialogR = this.checkoutDialogRenderer) == null ? void 0 : _this$checkoutDialogR.unmount();\n      } catch (e) {\n        console.error('Failed to unmount checkout dialog', e);\n      }\n    }\n  }, {\n    key: \"close\",\n    value: function close() {\n      this.hideAdminPortal();\n      this.hideCheckoutDialog();\n    }\n  }]);\n\n  return FronteggApp;\n}();"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}