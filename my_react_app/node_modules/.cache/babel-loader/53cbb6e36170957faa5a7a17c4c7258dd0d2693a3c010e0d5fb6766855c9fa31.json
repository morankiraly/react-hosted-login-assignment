{"ast":null,"code":"import { call, put, takeLeading } from 'redux-saga/effects';\nimport { actions } from '../reducer';\nimport { api } from '@frontegg/rest-api';\nimport { AcceptInvitationStep } from './interfaces';\nfunction acceptInvitation(_ref) {\n  let {\n    payload\n  } = _ref;\n  return function* () {\n    if (!payload.token || !payload.userId) {\n      yield put(actions.setAcceptInvitationState({\n        error: undefined,\n        step: AcceptInvitationStep.invalid\n      }));\n      return;\n    }\n    try {\n      yield put(actions.setAcceptInvitationState({\n        error: undefined,\n        step: AcceptInvitationStep.pending\n      }));\n      yield call(api.auth.acceptInvitation, payload);\n      yield put(actions.setState({\n        isAuthenticated: false,\n        user: null,\n        acceptInvitationState: {\n          error: undefined,\n          step: AcceptInvitationStep.success\n        }\n      }));\n    } catch (e) {\n      yield put(actions.setAcceptInvitationState({\n        step: AcceptInvitationStep.failed,\n        error: e.message\n      }));\n    }\n  }();\n}\nexport function* acceptInvitationSagas() {\n  yield takeLeading(actions.acceptInvitation, acceptInvitation);\n}","map":{"version":3,"names":["call","put","takeLeading","actions","api","AcceptInvitationStep","acceptInvitation","payload","token","userId","setAcceptInvitationState","error","undefined","step","invalid","pending","auth","setState","isAuthenticated","user","acceptInvitationState","success","e","failed","message","acceptInvitationSagas"],"sources":["/Users/morank/Documents/react-hosted-login-assignment/my-app/node_modules/@frontegg/redux-store/auth/AcceptInvitationState/saga.js"],"sourcesContent":["import { call, put, takeLeading } from 'redux-saga/effects';\nimport { actions } from '../reducer';\nimport { api } from '@frontegg/rest-api';\nimport { AcceptInvitationStep } from './interfaces';\n\nfunction* acceptInvitation({\n  payload\n}) {\n  if (!payload.token || !payload.userId) {\n    yield put(actions.setAcceptInvitationState({\n      error: undefined,\n      step: AcceptInvitationStep.invalid\n    }));\n    return;\n  }\n\n  try {\n    yield put(actions.setAcceptInvitationState({\n      error: undefined,\n      step: AcceptInvitationStep.pending\n    }));\n    yield call(api.auth.acceptInvitation, payload);\n    yield put(actions.setState({\n      isAuthenticated: false,\n      user: null,\n      acceptInvitationState: {\n        error: undefined,\n        step: AcceptInvitationStep.success\n      }\n    }));\n  } catch (e) {\n    yield put(actions.setAcceptInvitationState({\n      step: AcceptInvitationStep.failed,\n      error: e.message\n    }));\n  }\n}\n\nexport function* acceptInvitationSagas() {\n  yield takeLeading(actions.acceptInvitation, acceptInvitation);\n}"],"mappings":"AAAA,SAASA,IAAI,EAAEC,GAAG,EAAEC,WAAW,QAAQ,oBAAoB;AAC3D,SAASC,OAAO,QAAQ,YAAY;AACpC,SAASC,GAAG,QAAQ,oBAAoB;AACxC,SAASC,oBAAoB,QAAQ,cAAc;AAEnD,SAAUC,gBAAgB;EAAA,IAAC;IACzBC;EACF,CAAC;EAAA,oBAAE;IACD,IAAI,CAACA,OAAO,CAACC,KAAK,IAAI,CAACD,OAAO,CAACE,MAAM,EAAE;MACrC,MAAMR,GAAG,CAACE,OAAO,CAACO,wBAAwB,CAAC;QACzCC,KAAK,EAAEC,SAAS;QAChBC,IAAI,EAAER,oBAAoB,CAACS;MAC7B,CAAC,CAAC,CAAC;MACH;IACF;IAEA,IAAI;MACF,MAAMb,GAAG,CAACE,OAAO,CAACO,wBAAwB,CAAC;QACzCC,KAAK,EAAEC,SAAS;QAChBC,IAAI,EAAER,oBAAoB,CAACU;MAC7B,CAAC,CAAC,CAAC;MACH,MAAMf,IAAI,CAACI,GAAG,CAACY,IAAI,CAACV,gBAAgB,EAAEC,OAAO,CAAC;MAC9C,MAAMN,GAAG,CAACE,OAAO,CAACc,QAAQ,CAAC;QACzBC,eAAe,EAAE,KAAK;QACtBC,IAAI,EAAE,IAAI;QACVC,qBAAqB,EAAE;UACrBT,KAAK,EAAEC,SAAS;UAChBC,IAAI,EAAER,oBAAoB,CAACgB;QAC7B;MACF,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,OAAOC,CAAC,EAAE;MACV,MAAMrB,GAAG,CAACE,OAAO,CAACO,wBAAwB,CAAC;QACzCG,IAAI,EAAER,oBAAoB,CAACkB,MAAM;QACjCZ,KAAK,EAAEW,CAAC,CAACE;MACX,CAAC,CAAC,CAAC;IACL;EACF,CAAC;AAAA;AAED,OAAO,UAAUC,qBAAqB,GAAG;EACvC,MAAMvB,WAAW,CAACC,OAAO,CAACG,gBAAgB,EAAEA,gBAAgB,CAAC;AAC/D"},"metadata":{},"sourceType":"module","externalDependencies":[]}